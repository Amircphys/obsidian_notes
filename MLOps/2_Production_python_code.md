
**Python:**
	- Динамическая типизация
	- Интерпретируемый
	- Огромное количество готовых пакетов
	- В ML стандарт de facto

**Jupyter Notebook**
	*достоинства:*
		- Можно строить графики
		- Удобно делать отчеты
		- Удобно изучать новые пакеты
		- Прост в установке
		- Легко развернуть на удаленном сервере
	*недостатки*:
		- Проблемы с версионированием в гите
		- Слабая IDE
		- Сложно тестировать код
		- Позволяет выполнять ячейки в произвольном порядке
		- Плохой пользовательский опыт  при запуске длительных вычислений
	*Код построения модели*
		- не поревьюен
		- не воспроизводим
		- не обобщаемый

Качественный **продакшн код** должен обладать следующими характеристиками (top-5):
	- Читаемый
	- Эффективный
	- Модульный
	- Содержащий тесты и прописанные exceptions
	- Задокументированный

Характеристики продакшн проекта:
- **Версионирование**
- **Удобная структура**
- **Явные зависимости**


**Читаемый код**:
	- Ревью
	- Создаем репозиторий до начала работы, а не в её конце!
	- Читаемые названия
		- магические константы
		- короткие/непонятные/не привязанные к задаче имена переменных
	- Нет портянкам
		- Используйте функции и классы, они помогут сделать код обозримым
		- Если функция занимает более 50 строк, то вероятно, её лучше разбить
		- Если вы копируете код - пора создать функцию. (но можно и раньше)
	 - **SOLID**
		 - The Single-responsibility principle: a class should only have a single responsibility (Каждый класс должен иметь только одну зону ответственности.)
		 - The Open–closed principle: software entities ... should be open for extension, but closed for modiﬁcation (Классы должны быть открыты для расширения, но закрыты для изменения).
		 - The Liskov substitution principle: objects in a program should be replaceable  with instances of their subtypes without altering the correctness of that program (Должна быть возможность вместо базового (родительского) типа (класса) подставить любой его подтип (класс-наследник), при этом работа программы не должна измениться.)
		 - The Interface segregation principle: many client-speciﬁc interfaces are better than one general-purpose interface (Данный принцип обозначает, что не нужно заставлять клиента (класс) реализовывать интерфейс, который не имеет к нему отношения.). 
		 - The Dependency inversion principle: depend upon abstractions, (not) concretions (Модули верхнего уровня не должны зависеть от модулей нижнего уровня. И те, и другие должны зависеть от абстракции. Абстракции не должны зависеть от деталей. Детали должны зависеть от абстракций.)

Работа с ресурсами (пользуемся контекстным менеджером)

Typing (объявляем типы в переменных)

Используем конфиги из yaml - проблема в том что на выходе мы получаем dict и тот кто читает код, ему приходиться ползать по всему коду

DataClasses - хорошая библиотека для кофигов

![[Pasted image 20241023120453.png]]
![[Pasted image 20241023120531.png]]

**marshmallow, serpyco** - библиотеки для сериализации классов.

**Hydra** - решение от Facebook, [ссылка](https://hydra.cc/docs/intro/)

Строки в питоне - всегда использовать одно, либо 'string', либо "string"

Форматирование строк в питоне - лучше использовать **f-strings**

**PEP8, BLACK** - автоматическое отформатирование (black слабо настраивается)

**Логирование** -  лучше чем print. Логирование имеет уровни в отличие от print и мы одной командой можем настроить, какой уровень выводить. Логи могут скапливаться в одном месте (**Kibana**)


**Документирование** - лучше добавить авто-документирование, слишком подробное документирование - плохо. 


**Тестирование**
1. Код без тестов - это сломанный код
2. Даже если всё работает сейчас, вы сломаете его завтра. Без тестов вы не
узнаете об этом.
3. Заставляет вас писать код лучше
4. Легче владеть кодом коллективно

Создание python-пакетов (aka setup scripts) - [ссылка](https://klen.github.io/create-python-packages.html)


Проект, содержащий setup.py можно собрать
> `python setup.py sdist -> my_project.tar.gz`
Этот пакет можно устанавливать и распространять
>` pip install my_project.tar.gz`



**Зависимости** - `pip install -r requirements.txt`
****

**Виртуальные окружения**

- **virtualenv**
- **virtualenvwrapper**
- **conda**
-  **pyenv**
-  **poetry**
`conda create python=3.6 -n <name_env>` 

**ML проект**


![[Pasted image 20241026161241.png]]

![[Pasted image 20241026163548.png]]
Как загрузить шаблон проекта:
	```
	1. pip install cookiecutter
	2. ```cookiecutter -c v1 https://github.com/drivendata/cookiecutter-data-science ```

Commands:
 - `python -m venv ml_project`
 - `source ml_project/bin/activate`
 - `pip install -e .`
 - `python ml_example/train_pipeline.py configs/train_config.yaml `
